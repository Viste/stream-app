{% extends 'layout.html' %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/students.css') }}">
{% endblock %}

{% block content %}
<div class="students-page">
    <h1 class="page-title">Наши студенты</h1>
    <div class="students-grid">
        {% for data in user_data %}
        <div class="student-card">
            <div class="student-name">
                <a href="{{ url_for('views.public_profile', user_id=data.user.id) }}" class="student-link">
                    {{ data.user.username }}
                </a>
            </div>
            <div class="student-hover-info">
                <img src="{{ data.user.avatar_url or url_for('static', filename='images/default_avatar.png') }}" alt="avatar" class="student-avatar">
                <div>Пройденные курсы: {{ data.user.courses|length }}</div>
                <div>Средний балл: {{ data.average_grade|round(2) }}</div>
                <div>Город: {{ data.user.city }}</div>
                <div>Наушники: {{ data.user.headphones }}</div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}